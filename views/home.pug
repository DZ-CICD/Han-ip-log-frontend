// frontend/views/home.pug (ë‹¹ì²¨ìž ë°°ë„ˆ ê¸°ëŠ¥ ìµœì¢… ì¶”ê°€)

doctype html
html
  head
Â  Â  meta(charset='utf-8')
Â  Â  title í•œìž…ë¡œê·¸
Â  Â  meta(name='viewport', content='width=device-width, initial-scale=1')
Â  Â  link(rel='stylesheet', href='https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css')
Â  Â  link(rel='stylesheet', href='/css/style.css')
Â  Â  style.
Â  Â  Â  .winner-banner {
Â  Â  Â  Â  background-color: #e0f7fa;
Â  Â  Â  Â  border: 2px solid #00bcd4;
Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
Â  Â  Â  }
Â  Â  Â  .winner-button {
Â  Â  Â  Â  padding: 8px 15px;
Â  Â  Â  Â  margin-left: 10px;
Â  Â  Â  Â  border: none;
Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  }
Â  Â  Â  .check-btn {
Â  Â  Â  Â  background-color: #00bcd4;
Â  Â  Â  Â  color: white;
Â  Â  Â  }
Â  Â  Â  .close-btn {
Â  Â  Â  Â  background-color: #f44336;
Â  Â  Â  Â  color: white;
Â  Â  Â  }
  body
Â  Â  - const allTags = [{emoji: 'ðŸ‘¥', label: 'ë‹¨ì²´ì„'}, {emoji: 'ðŸª‘', label: 'ìž…ì‹'}, {emoji: 'ðŸ§‘â€ðŸ³', label: 'íŠ¹ë³„í•œë©”ë‰´'}, {emoji: 'ðŸ›‹ï¸', label: 'ì¸í…Œë¦¬ì–´'}, {emoji: 'ðŸŒ¿', label: 'ì‹ ì„ í•œ'}, {emoji: 'ðŸ’•', label: 'ë°ì´íŠ¸'}, {emoji: 'ðŸ‘€', label: 'ë„“ì€'}, {emoji: 'ðŸ‘¥', label: 'íšŒì‹'}, {emoji: 'ðŸ—£ï¸', label: 'ëŒ€í™”'}, {emoji: 'ðŸ™', label: 'í˜¼ë°¥'}, {emoji: 'ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦', label: 'ê°€ì¡±ëª¨ìž„'}, {emoji: 'âœ¨', label: 'ë¶„ìœ„ê¸°ì¢‹ì€'}, {emoji: 'ðŸ†•', label: 'ìƒˆë¡œì˜¤í”ˆ'}]

Â  Â  #header-section.header.bg-light.mb-0
Â  Â  Â  .container
Â  Â  Â  Â  .d-flex.justify-content-between.align-items-center
Â  Â  Â  Â  Â  div
Â  Â  Â  Â  Â  Â  h1: a(href='/', class='text-dark text-decoration-none') ðŸ²ë‘ìž…ë¡œê·¸ðŸ½
Â  Â  Â  Â  Â  Â  p.text-muted.mb-0 ìž‘ì€ í•œìž…ì—ë„ ì´ì•¼ê¸°ê°€ ë‹´ê²¨ìš” ðŸ²
Â  Â  Â  Â  Â  Â  p.text-secondary.mb-0(role='note') í™˜ì˜í•©ë‹ˆë‹¤âœ¨
Â  Â  Â  Â  Â  div
Â  Â  Â  Â  Â  Â  #auth-links
Â  Â  Â  Â  Â  Â  Â  button.btn.btn-outline-primary.btn-sm.mr-2#login-btn ë¡œê·¸ì¸
Â  Â  Â  Â  Â  Â  Â  button.btn.btn-outline-secondary.btn-sm#register-btn íšŒì›ê°€ìž…
Â  Â  Â  Â  Â  Â  #user-info(style="display: none;")
Â  Â  Â  Â  Â  Â  Â  span#welcome-msg.text-muted.mr-3
Â  Â  Â  Â  Â  Â  Â  button.btn.btn-danger.btn-sm#logout-btn ë¡œê·¸ì•„ì›ƒ
  
  // ------------------------- [ìƒˆ ë°°ë„ˆ ì¶”ê°€ ì‹œìž‘] -------------------------
  #winner-banner-section.container.mb-3
    .winner-banner.bg-info.p-3.rounded.d-flex.justify-content-between.align-items-center
      span.text-white.font-weight-bold âœ¨ ðŸŽ‰ 11.21ì¼ ìš°ìˆ˜ ë¡œê³  ë‹¹ì²¨ìž ë°œí‘œ! ðŸŽ‰ âœ¨
      div
        button.btn.btn-success.btn-sm.mr-2#check-winner-btn(onclick='openWinnerPage()') ë‹¹ì²¨ìž í™•ì¸
        button.btn.btn-secondary.btn-sm#close-banner-btn ë‹«ê¸°
  // -------------------------- [ìƒˆ ë°°ë„ˆ ì¶”ê°€ ë] --------------------------

Â  Â  #login-form-section.container.mb-5(style="display: none;")
Â  Â  Â  h3.mb-4.text-primary ðŸ”’ ë¡œê·¸ì¸
Â  Â  Â  form#login-form
Â  Â  Â  Â  .form-group
Â  Â  Â  Â  Â  label(for='login-username') ì•„ì´ë””
Â  Â  Â  Â  Â  input#login-username.form-control(type='text' name='username' required)
Â  Â  Â  Â  .form-group
Â  Â  Â  Â  Â  label(for='login-password') ë¹„ë°€ë²ˆí˜¸
Â  Â  Â  Â  Â  input#login-password.form-control(type='password' name='password' required)
Â  Â  Â  Â  button.btn.btn-primary.btn-block(type='submit') ë¡œê·¸ì¸
Â  Â  Â  Â  button.btn.btn-secondary.btn-block(type='button')#cancel-login-btn ì·¨ì†Œ

Â  Â  #register-form-section.container.mb-5(style="display: none;")
Â  Â  Â  h3.mb-4.text-primary ðŸ‘¤ íšŒì›ê°€ìž…
Â  Â  Â  form#register-form
Â  Â  Â  Â  .form-group
Â  Â  Â  Â  Â  label(for='register-username') ì•„ì´ë””
Â  Â  Â  Â  Â  input#register-username.form-control(type='text' name='username' required)
Â  Â  Â  Â  .form-group
Â  Â  Â  Â  Â  label(for='register-password') ë¹„ë°€ë²ˆí˜¸
Â  Â  Â  Â  Â  input#register-password.form-control(type='password' name='password' required)
Â  Â  Â  Â  button.btn.btn-success.btn-block(type='submit') íšŒì›ê°€ìž…
Â  Â  Â  Â  button.btn.btn-secondary.btn-block(type='button')#cancel-register-btn ì·¨ì†Œ

Â  Â  #form-section.container.mb-5(style="display: none;")
Â  Â  Â  h3.mb-4.text-primary âœï¸ ìƒˆ ë¦¬ë·° ìž‘ì„±
Â  Â  Â  form#new-review-form
Â  Â  Â  Â  .form-group
Â  Â  Â  Â  Â  label(for='name') ì´ë¦„
Â  Â  Â  Â  Â  input#name.form-control(type='text' name='name' placeholder='ìµëª…ë„ ê°€ëŠ¥í•´ìš”' required)
Â  Â  Â  Â  .form-group
Â  Â  Â  Â  Â  label(for='store') ê°€ê²Œëª…
Â  Â  Â  Â  Â  input#store.form-control(type='text' name='store' placeholder='ë°©ë¬¸í•œ ìŒì‹ì  ì´ë¦„ì„ ì ì–´ì£¼ì„¸ìš”' required)
Â  Â  Â  Â  .form-group
Â  Â  Â  Â  Â  label(for='category') ìŒì‹ ë¶„ë¥˜
Â  Â  Â  Â  Â  select#category.form-control(name='category' required)
Â  Â  Â  Â  Â  Â  option(value='') -- ì„ íƒ --
Â  Â  Â  Â  Â  Â  option(value='í•œì‹') í•œì‹
Â  Â  Â  Â  Â  Â  option(value='ì¤‘ì‹') ì¤‘ì‹
Â  Â  Â  Â  Â  Â  option(value='ì¼ì‹') ì¼ì‹
Â  Â  Â  Â  Â  Â  option(value='ì–‘ì‹') ì–‘ì‹
Â  Â  Â  Â  Â  Â  option(value='ë¶„ì‹') ë¶„ì‹
Â  Â  Â  Â  Â  Â  option(value='ê¸°íƒ€') ê¸°íƒ€
Â  Â  Â  Â  .form-group
Â  Â  Â  Â  Â  label(for='menu') ë¨¹ì€ ìŒì‹
Â  Â  Â  Â  Â  input#menu.form-control(type='text' name='menu' placeholder='ì˜ˆ: ê¹€ì¹˜ì°Œê°œ, í¬ë¦¼íŒŒìŠ¤íƒ€ ë“±' required)
Â  Â  Â  Â  .form-group
Â  Â  Â  Â  Â  label(for='taste') ë§› í‰ì 
Â  Â  Â  Â  Â  select#taste.form-control(name='taste' required)
Â  Â  Â  Â  Â  Â  option(value='') -- ì„ íƒ --
Â  Â  Â  Â  Â  Â  option(value='5') â˜…â˜…â˜…â˜…â˜…
Â  Â  Â  Â  Â  Â  option(value='4') â˜…â˜…â˜…â˜…â˜†
Â  Â  Â  Â  Â  Â  option(value='3') â˜…â˜…â˜…â˜†â˜†
Â  Â  Â  Â  Â  Â  option(value='2') â˜…â˜…â˜†â˜†â˜†
Â  Â  Â  Â  Â  Â  option(value='1') â˜…â˜†â˜†â˜†â˜†
Â  Â  Â  Â  .form-group
Â  Â  Â  Â  Â  label íƒœê·¸ (ìµœì†Œ 1ê°œ ì´ìƒ ì„ íƒ)
Â  Â  Â  Â  Â  .tag-selector.border.p-3.rounded
Â  Â  Â  Â  Â  Â  each tag in allTags
Â  Â  Â  Â  Â  Â  Â  .form-check.form-check-inline
Â  Â  Â  Â  Â  Â  Â  Â  input.form-check-input(type='checkbox', name='tags', id=`tag-${tag.label}`, value=tag.label)
Â  Â  Â  Â  Â  Â  Â  Â  label.form-check-label(for=`tag-${tag.label}`)= `${tag.emoji} ${tag.label}`
Â  Â  Â  Â  .form-group
Â  Â  Â  Â  Â  label(for='memo') ì¶”ê°€ ë©”ëª¨
Â  Â  Â  Â  Â  textarea#memo.form-control(name='memo' rows='4' placeholder='ìœ„ìƒ ìƒíƒœ, ìœ„ì¹˜, ê±¸ë¦¬ëŠ” ì‹œê°„ ë“±ì„ ì ì–´ì£¼ì„¸ìš”')
Â  Â  Â  Â  .form-group
Â  Â  Â  Â  Â  label(for='recommend') ì¶”ì²œ ì—¬ë¶€
Â  Â  Â  Â  Â  select#recommend.form-control(name='recommend' required)
Â  Â  Â  Â  Â  Â  option(value='') -- ì„ íƒ --
Â  Â  Â  Â  Â  Â  option(value='yes') ì¶”ì²œí•´ìš” ðŸ‘
Â  Â  Â  Â  Â  Â  option(value='no') ì•„ì‰¬ì›Œìš” ðŸ‘Ž
Â  Â  Â  Â  button.btn.btn-success.btn-block(type='submit') ìž‘ì„± ì™„ë£Œ
Â  Â  Â  Â  button.btn.btn-secondary.btn-block(type='button')#hide-form-btn ì·¨ì†Œ

Â  Â  #page-content
Â  Â  Â  .container.mb-5
Â  Â  Â  Â  .d-flex.justify-content-between.align-items-start.mb-4
Â  Â  Â  Â  Â  div
Â  Â  Â  Â  Â  Â  h5.text-muted ðŸ± ìŒì‹ ì¢…ë¥˜
Â  Â  Â  Â  Â  Â  - const categories = ['ì „ì²´', 'í•œì‹', 'ì¤‘ì‹', 'ì¼ì‹', 'ì–‘ì‹', 'ë¶„ì‹', 'ê¸°íƒ€']
Â  Â  Â  Â  Â  Â  each cat in categories
Â  Â  Â  Â  Â  Â  Â  a(href=`/?category=${cat}`, class=`btn ${currentCategory === cat ? 'btn-primary' : 'btn-outline-secondary'} mr-2 mb-2`)= cat
Â  Â  Â  Â  Â  div.ml-4(style="min-width: 200px;")
Â  Â  Â  Â  Â  Â  h5.text-muted âœ¨ ë¶„ìœ„ê¸° íƒœê·¸
Â  Â  Â  Â  Â  Â  select#tag-filter.form-control.form-control-sm
Â  Â  Â  Â  Â  Â  Â  option(value='') -- íƒœê·¸ë¡œ ë¶„ë¥˜ --
Â  Â  Â  Â  Â  Â  Â  each tag in allTags
Â  Â  Â  Â  Â  Â  Â  Â  option(value=tag.label, selected=(currentTag === tag.label))= `${tag.emoji} ${tag.label}`
Â  Â  Â  Â  Â  div.ml-auto.pl-4
Â  Â  Â  Â  Â  Â  button.btn.btn-primary.btn-sm#show-form-btn(style="white-space: nowrap;") âœï¸ ìƒˆ ë¦¬ë·° ìž‘ì„±

Â  Â  Â  .container-fluid.posts.mt-5
Â  Â  Â  Â  include list.pug
Â  Â  Â  Â  if totalPages > 1
Â  Â  Â  Â  Â  nav.d-flex.justify-content-center.mt-4
Â  Â  Â  Â  Â  Â  ul.pagination
Â  Â  Â  Â  Â  Â  Â  li.page-item(class=(currentPage == 1 ? 'disabled' : ''))
Â  Â  Â  Â  Â  Â  Â  Â  a.page-link(href=`/?page=${currentPage - 1}${baseQuery}`) Previous
Â  Â  Â  Â  Â  Â  Â  - for (let i = 1; i <= totalPages; i++)
Â  Â  Â  Â  Â  Â  Â  Â  li.page-item(class=(i == currentPage ? 'active' : ''))
Â  Â  Â  Â  Â  Â  Â  Â  Â  a.page-link(href=`/?page=${i}${baseQuery}`)= i
Â  Â  Â  Â  Â  Â  Â  li.page-item(class=(currentPage == totalPages ? 'disabled' : ''))
Â  Â  Â  Â  Â  Â  Â  Â  a.page-link(href=`/?page=${currentPage + 1}${baseQuery}`) Next

Â  Â  script.
Â  Â  Â  document.addEventListener('DOMContentLoaded', () => {
Â  Â  Â  Â  const header = document.getElementById('header-section');
Â  Â  Â  Â  const pageContent = document.getElementById('page-content');
Â  Â  Â  Â  const formSection = document.getElementById('form-section');
Â  Â  Â  Â  const loginSection = document.getElementById('login-form-section');
Â  Â  Â  Â  const registerSection = document.getElementById('register-form-section');
Â  Â  Â  Â  const authLinks = document.getElementById('auth-links');
Â  Â  Â  Â  const userInfo = document.getElementById('user-info');
Â  Â  Â  Â  const welcomeMsg = document.getElementById('welcome-msg');

Â  Â  Â  Â  const showButton = document.getElementById('show-form-btn');
Â  Â  Â  Â  const hideButton = document.getElementById('hide-form-btn');
Â  Â  Â  Â  const loginButton = document.getElementById('login-btn');
Â  Â  Â  Â  const registerButton = document.getElementById('register-btn');
Â  Â  Â  Â  const logoutButton = document.getElementById('logout-btn');
Â  Â  Â  Â  const cancelLoginBtn = document.getElementById('cancel-login-btn');
Â  Â  Â  Â  const cancelRegisterBtn = document.getElementById('cancel-register-btn');
Â  Â  Â  Â  const tagFilter = document.getElementById('tag-filter');

Â  Â  Â  Â  // ------------------------- [ìƒˆ JS í•¨ìˆ˜ ì¶”ê°€] -------------------------
Â  Â  Â  Â  function openWinnerPage() {
Â  Â  Â  Â  Â  Â  window.open('/winners', 'WinnerPopup', 'width=600,height=400');
Â  Â  Â  Â  }
Â  Â  Â  Â  if (document.getElementById('close-banner-btn')) {
Â  Â  Â  Â  Â  Â  document.getElementById('close-banner-btn').addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('winner-banner-section').style.display = 'none';
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }
Â  Â  Â  Â  // -------------------------- [ìƒˆ JS í•¨ìˆ˜ ì¶”ê°€ ë] --------------------------

Â  Â  Â  Â  function hideAllSections() {
Â  Â  Â  Â  Â  if (formSection) formSection.style.display = 'none';
Â  Â  Â  Â  Â  if (loginSection) loginSection.style.display = 'none';
Â  Â  Â  Â  Â  if (registerSection) registerSection.style.display = 'none';
Â  Â  Â  Â  Â  if (header) header.style.display = 'block';
Â  Â  Â  Â  Â  if (pageContent) pageContent.style.display = 'block';
Â  Â  Â  Â  }

Â  Â  Â  Â  function checkLoginState() {
Â  Â  Â  Â  Â  const token = localStorage.getItem('token');
Â  Â  Â  Â  Â  const username = localStorage.getItem('username');
Â  Â  Â  Â  Â  if (token && username) {
Â  Â  Â  Â  Â  Â  if (authLinks) authLinks.style.display = 'none';
Â  Â  Â  Â  Â  Â  if (userInfo) userInfo.style.display = 'block';
Â  Â  Â  Â  Â  Â  if (welcomeMsg) welcomeMsg.textContent = `ðŸ‘‹ ${username}ë‹˜, í™˜ì˜í•©ë‹ˆë‹¤!`;
Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  if (authLinks) authLinks.style.display = 'block';
Â  Â  Â  Â  Â  Â  if (userInfo) userInfo.style.display = 'none';
Â  Â  Â  Â  Â  Â  if (welcomeMsg) welcomeMsg.textContent = '';
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  updateVisibility();
Â  Â  Â  Â  }

Â  Â  Â  Â  function updateVisibility() {
Â  Â  Â  Â  Â  const path = window.location.pathname;
Â  Â  Â  Â  Â  hideAllSections(); // ðŸŸ¢ ì¼ë‹¨ ëª¨ë“  ê²ƒì„ ê¸°ë³¸ ìƒíƒœ(ëª©ë¡)ë¡œ ë¦¬ì…‹

Â  Â  Â  Â  Â  if (path === '/reviews/new') {
Â  Â  Â  Â  Â  Â  if (formSection) formSection.style.display = 'block';
Â  Â  Â  Â  Â  Â  if (header) header.style.display = 'none';
Â  Â  Â  Â  Â  Â  if (pageContent) pageContent.style.display = 'none';
Â  Â  Â  Â  Â  } else if (path === '/login') {
Â  Â  Â  Â  Â  Â  if (loginSection) loginSection.style.display = 'block';
Â  Â  Â  Â  Â  Â  if (header) header.style.display = 'block'; // ðŸŸ¢ í—¤ë”ëŠ” ê³„ì† ë³´ì´ê²Œ
Â  Â  Â  Â  Â  Â  if (pageContent) pageContent.style.display = 'none';
Â  Â  Â  Â  Â  } else if (path === '/register') {
Â  Â  Â  Â  Â  Â  if (registerSection) registerSection.style.display = 'block';
Â  Â  Â  Â  Â  Â  if (header) header.style.display = 'block'; // ðŸŸ¢ í—¤ë”ëŠ” ê³„ì† ë³´ì´ê²Œ
Â  Â  Â  Â  Â  Â  if (pageContent) pageContent.style.display = 'none';
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  // else (ê²½ë¡œê°€ '/')ëŠ” hideAllSections()ê°€ ì´ë¯¸ ì²˜ë¦¬í•¨
Â  Â  Â  Â  }

Â  Â  Â  Â  if (showButton) {
Â  Â  Â  Â  Â  showButton.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  if (!localStorage.getItem('token')) {
Â  Â  Â  Â  Â  Â  Â  alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤. ë¨¼ì € ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.');
Â  Â  Â  Â  Â  Â  Â  history.pushState(null, '', '/login');
Â  Â  Â  Â  Â  Â  Â  updateVisibility();
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  history.pushState(null, '', '/reviews/new');
Â  Â  Â  Â  Â  Â  Â  updateVisibility();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }
Â  Â  Â  Â  if (hideButton) {
Â  Â  Â  Â  Â  hideButton.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  history.pushState(null, '', '/');
Â  Â  Â  Â  Â  Â  updateVisibility();
Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }
Â  Â  Â  Â  if (loginButton) {
Â  Â  Â  Â  Â  loginButton.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  history.pushState(null, '', '/login');
Â  Â  Â  Â  Â  Â  updateVisibility();
Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }
Â  Â  Â  Â  if (registerButton) {
Â  Â  Â  Â  Â  registerButton.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  history.pushState(null, '', '/register');
Â  Â  Â  Â  Â  Â  updateVisibility();
Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }
Â  Â  Â  Â  if (logoutButton) {
Â  Â  Â  Â  Â  logoutButton.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  localStorage.removeItem('token');
Â  Â  Â  Â  Â  Â  localStorage.removeItem('userId');
Â  Â  Â  Â  Â  Â  localStorage.removeItem('username');
Â  Â  Â  Â  Â  Â  alert('ë¡œê·¸ì•„ì›ƒë˜ì—ˆìŠµë‹ˆë‹¤.');
Â  Â  Â  Â  Â  Â  window.location.href = '/';
Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }
Â  Â  Â  Â  if (cancelLoginBtn) {
Â  Â  Â  Â  Â  cancelLoginBtn.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  history.pushState(null, '', '/');
Â  Â  Â  Â  Â  Â  updateVisibility();
Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }
Â  Â  Â  Â  if (cancelRegisterBtn) {
Â  Â  Â  Â  Â  cancelRegisterBtn.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  history.pushState(null, '', '/');
Â  Â  Â  Â  Â  Â  updateVisibility();
Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }
Â  Â  Â  Â  if (tagFilter) {
Â  Â  Â  Â  Â  tagFilter.addEventListener('change', (e) => {
Â  Â  Â  Â  Â  Â  const selectedTag = e.target.value;
Â  Â  Â  Â  Â  Â  window.location.href = selectedTag ? `/?tag=${selectedTag}` : '/';
Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  window.addEventListener('popstate', updateVisibility);
Â  Â  Â  Â  checkLoginState();
Â  Â  Â  });

Â  Â  script(src='/css/main.js')

